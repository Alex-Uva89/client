import{_ as f}from"./DOlvcNeX.js";import{_ as g}from"./BI8AzYCd.js";import{B as v}from"./DKp5B0T4.js";import{_ as b,J as y,v as d,z as m,x as r,L as a,M as n,N as u,O as w,B as p,A as z,P as D,t as c}from"./D6rGpg6a.js";import{_ as I,a as V}from"./AaDf8L3N.js";import"./B6FNxMp5.js";const M="data:image/svg+xml,%3csvg%20width='26'%20height='26'%20viewBox='0%200%2026%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.0031%200C5.83284%200%200%205.8266%200%2012.9969C0%2016.4489%201.35179%2019.5913%203.55472%2021.9211C5.92722%2024.4307%209.28486%2026%2013.0031%2026C20.1734%2026%2026%2020.1672%2026%2012.9969C26%205.8266%2020.1734%200%2013.0031%200ZM13.0031%201.625C19.2949%201.625%2024.375%206.70514%2024.375%2012.9969C24.375%2015.4862%2023.5788%2017.7856%2022.228%2019.6573C21.2509%2016.9018%2019.0388%2014.7274%2016.2449%2013.7647C17.556%2012.7765%2018.4061%2011.2073%2018.4061%209.44632C18.4061%206.47062%2015.9778%204.03598%2013.003%204.03598C10.0273%204.03598%207.5979%206.47044%207.5979%209.44632C7.5979%2011.2074%208.45%2012.7767%209.76118%2013.7647C6.96618%2014.7265%204.74916%2016.9%203.77104%2019.6552C2.42026%2017.7844%201.62503%2015.4851%201.62503%2012.9969C1.62503%206.70514%206.71112%201.625%2013.0031%201.625ZM13.0031%205.66202C15.1004%205.66202%2016.7812%207.34999%2016.7812%209.44736C16.7812%2011.5446%2015.1003%2013.2254%2013.0031%2013.2254C10.9059%2013.2254%209.22298%2011.5446%209.22298%209.44736C9.22298%207.3501%2010.9059%205.66202%2013.0031%205.66202ZM13.0031%2014.8504C16.9377%2014.8504%2020.1734%2017.5336%2020.9646%2021.1271C18.9151%2023.137%2016.1067%2024.375%2013.0031%2024.375C9.90028%2024.375%207.09124%2023.138%205.03958%2021.1302C5.82975%2017.536%209.06646%2014.8504%2013.0031%2014.8504Z'%20fill='%2374121D'/%3e%3c/svg%3e",N="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2025.4.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Livello_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2023%2028'%20style='enable-background:new%200%200%2023%2028;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%2374121D;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M11.5,28c-0.2,0-0.5,0-0.7-0.1c-0.5-0.1-0.8-0.4-1.3-0.8C6.7,24.9,0,18.7,0,11.1c0-2.9,1.2-5.8,3.4-7.9%20C5.6,1.2,8.4,0,11.5,0c3.1,0,5.9,1.2,8.1,3.3c2.1,2.1,3.4,5,3.4,7.9c0,7.6-6.7,13.7-9.6,16c-0.4,0.4-0.8,0.6-1.3,0.8%20C12,28,11.7,28,11.5,28z%20M11.5,2C9,2,6.5,3,4.8,4.7C3,6.4,2,8.7,2,11.1c0,6.7,6.2,12.3,8.8,14.5c0.3,0.3,0.5,0.4,0.5,0.4%20c0.1,0,0.2,0,0.3,0c0.1,0,0.2-0.1,0.5-0.4c2.6-2.1,8.8-7.8,8.8-14.5c0-2.4-1-4.7-2.8-6.5C16.4,3,14,2,11.5,2z'/%3e%3c/g%3e%3cg%3e%3cpath%20class='st0'%20d='M11.5,13.7c-2.2,0-4-1.8-4-3.9s1.8-3.9,4-3.9c2.2,0,4,1.8,4,3.9S13.7,13.7,11.5,13.7z%20M11.5,7.9%20c-1.1,0-2,0.9-2,1.9s0.9,1.9,2,1.9c1.1,0,2-0.9,2-1.9S12.6,7.9,11.5,7.9z'/%3e%3c/g%3e%3c/svg%3e",k="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2025.4.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Livello_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2025%2028'%20style='enable-background:new%200%200%2025%2028;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%2374121D;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M19.4,28H5.6c-1.7,0-2.7,0-3.5-0.4c-0.7-0.4-1.3-1-1.7-1.7C0,25,0,24.1,0,22.4V8.5C0,6.8,0,5.8,0.4,5%20c0.4-0.7,1-1.3,1.7-1.7c0.8-0.4,1.8-0.4,3.5-0.4h0.1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v1.9h9.5V1c0-0.6,0.4-1,1-1s1,0.4,1,1v1.9h0.2%20c1.7,0,2.7,0,3.5,0.4c0.7,0.4,1.3,1,1.7,1.7C25,5.8,25,6.8,25,8.5v13.9c0,1.7,0,2.7-0.4,3.5c-0.4,0.7-1,1.3-1.7,1.7%20C22.1,28,21.1,28,19.4,28z%20M2,10.7v11.7c0,1.4,0,2.2,0.2,2.6c0.2,0.4,0.5,0.6,0.8,0.8C3.4,26,4.2,26,5.6,26h13.8%20c1.4,0,2.2,0,2.6-0.2c0.4-0.2,0.6-0.5,0.8-0.8c0.2-0.4,0.2-1.2,0.2-2.6V10.7H2z%20M2,8.7h21V8.5c0-1.4,0-2.2-0.2-2.6%20c-0.2-0.4-0.5-0.6-0.8-0.8c-0.4-0.2-1.2-0.2-2.6-0.2H5.6c-1.4,0-2.2,0-2.6,0.2C2.7,5.3,2.4,5.6,2.2,5.9C2,6.3,2,7.1,2,8.5V8.7z%20M18.3,22.2c-0.1,0-0.2,0-0.3-0.1c-0.5-0.2-0.8-0.6-0.7-1.1c0.1-0.5,0.5-0.8,1-0.8h0c0.6,0,1,0.4,1,1c0,0.3-0.2,0.6-0.4,0.8%20C18.7,22.2,18.5,22.2,18.3,22.2z%20M12.5,22.2c-0.1,0-0.2,0-0.3-0.1c-0.5-0.2-0.8-0.6-0.7-1.1c0.1-0.5,0.5-0.8,1-0.8h0%20c0.6,0,1,0.4,1,1c0,0.3-0.2,0.6-0.4,0.8C12.9,22.2,12.7,22.2,12.5,22.2z%20M6.8,22.2c-0.1,0-0.2,0-0.3-0.1C6,22,5.7,21.5,5.8,21.1%20c0.1-0.5,0.5-0.8,1-0.8h0c0.6,0,1,0.4,1,1c0,0.3-0.2,0.6-0.4,0.8C7.2,22.2,7,22.2,6.8,22.2z%20M18.3,16.4c-0.6,0-1-0.4-1-1%20c0-0.6,0.4-1,1-1s1,0.4,1,1v0C19.3,16,18.8,16.4,18.3,16.4z%20M12.5,16.4c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1h0c0.6,0,1,0.4,1,1%20C13.5,16,13.1,16.4,12.5,16.4z%20M6.8,16.4c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1h0c0.6,0,1,0.4,1,1C7.8,16,7.3,16.4,6.8,16.4z'/%3e%3c/g%3e%3c/svg%3e",S="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2025.4.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Livello_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2028%2028'%20style='enable-background:new%200%200%2028%2028;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%2374121D;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M24.3,28C10.9,28,0,17.1,0,3.7C0,1.7,1.7,0,3.7,0h4c1.6,0,3,1,3.6,2.4l1.5,3.8c0.5,1.3,0.3,2.8-0.6,3.9l-0.8,1%20c-0.6,0.8-0.6,1.8,0.1,2.5l2.8,2.8c0.7,0.7,1.8,0.7,2.5,0.1l1-0.8c1.1-0.9,2.6-1.2,3.9-0.6l3.8,1.5c1.5,0.6,2.4,2,2.4,3.6l0,4%20C28,26.3,26.3,28,24.3,28z%20M3.7,2C2.8,2,2,2.8,2,3.7C2,16,12,26,24.3,26c1,0,1.7-0.8,1.7-1.7l0-4c0-0.8-0.5-1.5-1.2-1.8L21,17%20c-0.6-0.3-1.4-0.1-1.9,0.3l-1,0.8c-1.6,1.3-3.8,1.2-5.2-0.2l-2.8-2.8c-1.4-1.4-1.5-3.7-0.2-5.2l0.8-1C11.1,8.4,11.2,7.6,11,7%20L9.5,3.2c0,0,0,0,0,0C9.2,2.5,8.5,2,7.7,2H3.7z'/%3e%3c/g%3e%3c/svg%3e",H={components:{HeaderDefault:f,ButtonComponent:v,ListCartComponent:g},data(){return{form:{fullName:"",address:"",deliveryDate:"",email:"",phone:"",additionalInfo:"",acceptTerms:!1},errors:{fullName:!1,address:!1,deliveryDate:!1,email:!1,phone:!1},showPlaceholderText:!0}},computed:{cartStore(){return y()}},methods:{validateForm(){return this.errors.fullName=!this.form.fullName.trim(),this.errors.address=!this.form.address.trim(),this.errors.deliveryDate=!this.form.deliveryDate.trim(),this.errors.email=!this.form.email.trim()||!this.isValidEmail(this.form.email),this.errors.phone=!this.form.phone.trim(),!Object.values(this.errors).includes(!0)},isValidEmail(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)},async submitForm(){const s=`${Math.random().toString(36).substring(2,5).toUpperCase()}-${Date.now()}-${Math.floor(Math.random()*1e4)}`;if(this.validateForm()){const e={...this.form,orderNumber:s,cart:this.cartStore.getCartWithDetails,total:this.cartStore.getCartTotal.toFixed(2)};try{Object.keys(this.form).forEach(l=>{this.cartStore.updateOrderForm(l,this.form[l])}),this.cartStore.saveOrder(),localStorage.setItem("orderData",JSON.stringify(e)),this.$router.push("/confirm")}catch(l){console.error("Errore nell'invio dell'ordine:",l),alert("Si è verificato un errore. Riprova più tardi.")}}else{const e=document.getElementsByTagName("input");for(let l=0;l<e.length;l++)e[l].value===""?e[l].classList.add("error"):e[l].classList.remove("error")}},hidePlaceholder(){this.showPlaceholderText=!1},showPlaceholder(){this.form.deliveryDate||(this.showPlaceholderText=!0)},openDate(){const s=document.getElementById("deliveryDate");console.log("dateInput:",s),s.showPicker()}},watch:{"form.acceptTerms":function(s){console.log("acceptTerms changed:",s)}}},T={class:"form-container"},B={class:"form-group"},P={class:"form-group"},E={class:"form-group"},q={key:0,class:"placeholder-text"},L={class:"form-group"},A={class:"form-group"},F={class:"form-group"},G={class:"form-group terms"},O={class:"form-group"},U={class:"btn-send-list"},Z={key:0,class:"error-text"};function j(s,e,l,J,t,i){const C=f,x=g,h=v;return c(),d("div",null,[m(C,{title:"Checkout"}),r("form",{onSubmit:e[10]||(e[10]=D((...o)=>i.submitForm&&i.submitForm(...o),["prevent"])),class:"checkout-form","aria-labelledby":"formTitle"},[r("div",T,[r("div",B,[e[11]||(e[11]=r("label",{for:"fullName","aria-label":"Nome e Cognome"},"Nome e Cognome*",-1)),e[12]||(e[12]=r("img",{src:M,alt:"icona nome e cognome"},null,-1)),a(r("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.form.fullName=o),type:"text",id:"fullName",placeholder:"Nome e Cognome",required:"","aria-required":"true","aria-describedby":"fullNameHelp"},null,512),[[n,t.form.fullName]]),e[13]||(e[13]=r("small",{id:"fullNameHelp"},"Inserisci il tuo nome completo",-1))]),r("div",P,[e[14]||(e[14]=r("label",{for:"address","aria-label":"Indirizzo di Consegna"},"Indirizzo di Consegna*",-1)),e[15]||(e[15]=r("img",{src:N,alt:"icona indirizzo"},null,-1)),a(r("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.form.address=o),type:"text",id:"address",placeholder:"Indirizzo",required:"","aria-required":"true","aria-describedby":"addressHelp"},null,512),[[n,t.form.address]]),e[16]||(e[16]=r("small",{id:"addressHelp"},"Inserisci l'indirizzo di consegna",-1))]),r("div",E,[e[17]||(e[17]=r("label",{for:"deliveryDate","aria-label":"Data e Ora di Consegna"},"Data e Ora*",-1)),e[18]||(e[18]=r("img",{src:k,alt:"icona data e ora"},null,-1)),a(r("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>t.form.deliveryDate=o),type:"datetime-local",onFocus:e[3]||(e[3]=(...o)=>i.hidePlaceholder&&i.hidePlaceholder(...o)),onBlur:e[4]||(e[4]=(...o)=>i.showPlaceholder&&i.showPlaceholder(...o)),onClick:e[5]||(e[5]=(...o)=>i.openDate&&i.openDate(...o)),id:"deliveryDate",required:"","aria-required":"true","aria-describedby":"deliveryDateHelp",class:"input-date"},null,544),[[n,t.form.deliveryDate]]),t.showPlaceholderText?(c(),d("span",q," dd/mm/yyyy --:-- ")):u("",!0),e[19]||(e[19]=r("small",{id:"deliveryDateHelp"},"Scegli la data e l'orario di consegna",-1))]),r("div",L,[e[20]||(e[20]=r("label",{for:"email","aria-label":"Email"},"Email*",-1)),e[21]||(e[21]=r("img",{src:I,alt:"icona email"},null,-1)),a(r("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>t.form.email=o),type:"email",id:"email",placeholder:"Email",required:"","aria-required":"true","aria-describedby":"emailHelp"},null,512),[[n,t.form.email]]),e[22]||(e[22]=r("small",{id:"emailHelp"},"Inserisci il tuo indirizzo email",-1))]),r("div",A,[e[23]||(e[23]=r("label",{for:"phone","aria-label":"Numero di Telefono"},"Numero di Telefono*",-1)),e[24]||(e[24]=r("img",{src:S,alt:"icona telefono"},null,-1)),a(r("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>t.form.phone=o),type:"tel",id:"phone",placeholder:"Numero di telefono",required:"","aria-required":"true","aria-describedby":"phoneHelp"},null,512),[[n,t.form.phone]]),e[25]||(e[25]=r("small",{id:"phoneHelp"},"Inserisci il tuo numero di telefono",-1))]),r("div",F,[e[26]||(e[26]=r("label",{for:"additionalInfo","aria-label":"Informazioni Aggiuntive"},"Informazioni Aggiuntive",-1)),e[27]||(e[27]=r("img",{src:V,alt:"icona nome e cognome"},null,-1)),a(r("textarea",{"onUpdate:modelValue":e[8]||(e[8]=o=>t.form.additionalInfo=o),id:"additionalInfo",placeholder:"Altre info","aria-describedby":"additionalInfoHelp"},null,512),[[n,t.form.additionalInfo]]),e[28]||(e[28]=r("small",{id:"additionalInfoHelp"},"Aggiungi eventuali informazioni aggiuntive",-1))]),r("div",G,[r("label",null,[a(r("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>t.form.acceptTerms=o),type:"checkbox",required:"","aria-required":"true"},null,512),[[w,t.form.acceptTerms]]),e[29]||(e[29]=p(" Accetto i ")),e[30]||(e[30]=r("a",{href:"/terms","aria-label":"Termini e condizioni"},"termini e condizioni",-1))])])]),r("div",O,[e[31]||(e[31]=r("h3",{class:"title-list"},"Riepilogo Spesa",-1)),m(x,{cartActions:!1})]),r("div",U,[i.validateForm()?u("",!0):(c(),d("small",Z,"Compila i campi obbligatori")),m(h,{color:"var(--primary)",width:"90vw",disabled:!t.form.acceptTerms,onClick:i.submitForm},{default:z(()=>e[32]||(e[32]=[p(" Invia Lista ")])),_:1},8,["disabled","onClick"])])],32)])}const Y=b(H,[["render",j],["__scopeId","data-v-2ff3c94a"]]);export{Y as default};
