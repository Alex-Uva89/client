import{L as F}from"./B9TW-wBP.js";import{V as Q,r as w,d as f,o as L,_ as v,t as g,v as d,x as r,i as h,W as $,y as _,P as k,Q as x,g as S,z as m,B as P,M as b}from"./Cji_iYUZ.js";import{u as I}from"./B5QXyRUq.js";import{_ as N}from"./B6FNxMp5.js";const B=Q("product",{state:()=>({products:[{id:1,name:"Chimay Blue",category:"Birre",subcategory:"Scura",price:8,vigneto:"",annata:"",grado_alcolico:9},{id:2,name:"Chianti Classico",category:"Vini",subcategory:"Rosso",price:15,vigneto:"Vigneto Toscana",annata:2018,grado_alcolico:13},{id:3,name:"Sauvignon Blanc",category:"Vini",subcategory:"Bianco",price:12,vigneto:"Vigneto Friuli",annata:2020,grado_alcolico:12.5},{id:4,name:"Cerasuolo Di Vittoria",category:"Vini",subcategory:"Rosso",price:11,vigneto:"Vigneto Sicilia",annata:2021,grado_alcolico:12},{id:5,name:"Heineken",category:"Birre",subcategory:"Bionda",price:6,vigneto:"",annata:"",grado_alcolico:5},{id:6,name:"Guinness Draught",category:"Birre",subcategory:"Scura",price:7,vigneto:"",annata:"",grado_alcolico:4.2},{id:7,name:"Pilsner Urquell",category:"Birre",subcategory:"Bionda",price:6.5,vigneto:"",annata:"",grado_alcolico:4.4},{id:8,name:"Barolo",category:"Vini",subcategory:"Rosso",price:30,vigneto:"Vigneto Piemonte",annata:2017,grado_alcolico:14},{id:9,name:"Chardonnay",category:"Vini",subcategory:"Bianco",price:18,vigneto:"Vigneto Sicilia",annata:2019,grado_alcolico:13},{id:10,name:"Weihenstephaner Original",category:"Birre",subcategory:"Bionda",price:7,vigneto:"",annata:"",grado_alcolico:5.4},{id:11,name:"Cannonau Di Sardegna",category:"Vini",subcategory:"Rosso",price:14,vigneto:"Vigneto Sardegna",annata:2020,grado_alcolico:13.5},{id:12,name:"Pinot Grigio",category:"Vini",subcategory:"Bianco",price:13,vigneto:"Vigneto Trentino",annata:2021,grado_alcolico:12},{id:13,name:"Zinfandel",category:"Vini",subcategory:"Rosso",price:10,vigneto:"Vigneto California",annata:2020,grado_alcolico:12},{id:14,name:"Brooklyn Lager",category:"Birre",subcategory:"Ambrata",price:7.5,vigneto:"",annata:"",grado_alcolico:5.2},{id:15,name:"Leffe Blonde",category:"Birre",subcategory:"Bionda",price:6.8,vigneto:"",annata:"",grado_alcolico:6.6},{id:16,name:"Montepulciano D'Abruzzo",category:"Vini",subcategory:"Rosso",price:20,vigneto:"Vigneto Abruzzo",annata:2018,grado_alcolico:14},{id:17,name:"Riesling",category:"Vini",subcategory:"Bianco",price:17,vigneto:"Vigneto Alto Adige",annata:2020,grado_alcolico:12.5},{id:18,name:"Sierra Nevada Stout",category:"Birre",subcategory:"Scura",price:7.2,vigneto:"",annata:"",grado_alcolico:6.8},{id:19,name:"Lagunitas Ipa",category:"Birre",subcategory:"Ambrata",price:8,vigneto:"",annata:"",grado_alcolico:7.2},{id:20,name:"Saint-Emilion",category:"Vini",subcategory:"Rosso",price:25,vigneto:"Vigneto Bordeaux",annata:2016,grado_alcolico:13.5},{id:21,name:"Fiano Di Avellino",category:"Vini",subcategory:"Bianco",price:12,vigneto:"Vigneto Campania",annata:2021,grado_alcolico:12.5},{id:22,name:"Pinot Noir",category:"Vini",subcategory:"Rosso",price:14,vigneto:"Vigneto Francia",annata:2020,grado_alcolico:13},{id:23,name:"Budweiser",category:"Birre",subcategory:"Bionda",price:6.5,vigneto:"",annata:"",grado_alcolico:5},{id:24,name:"Newcastle Brown Ale",category:"Birre",subcategory:"Ambrata",price:7.8,vigneto:"",annata:"",grado_alcolico:4.7},{id:25,name:"Cabernet Sauvignon",category:"Vini",subcategory:"Rosso",price:22,vigneto:"Vigneto California",annata:2018,grado_alcolico:14},{id:26,name:"Sauvignon Blanc",category:"Vini",subcategory:"Bianco",price:16,vigneto:"Vigneto Nuova Zelanda",annata:2019,grado_alcolico:12.5},{id:27,name:"Pale Ale",category:"Birre",subcategory:"Ambrata",price:9,vigneto:"",annata:"",grado_alcolico:6.8},{id:28,name:"Red Ale",category:"Birre",subcategory:"Ambrata",price:7,vigneto:"",annata:"",grado_alcolico:6},{id:29,name:"Syrah",category:"Vini",subcategory:"Rosso",price:19,vigneto:"Vigneto Sicilia",annata:2017,grado_alcolico:14},{id:30,name:"Vermentino",category:"Vini",subcategory:"Bianco",price:13,vigneto:"Vigneto Sardegna",annata:2020,grado_alcolico:12},{id:31,name:"Brown Ale",category:"Birre",subcategory:"Ambrata",price:7.5,vigneto:"",annata:"",grado_alcolico:5.8},{id:32,name:"Grenache",category:"Vini",subcategory:"Rosso",price:12,vigneto:"Vigneto Spagna",annata:2020,grado_alcolico:12.5},{id:33,name:"Hefeweizen",category:"Birre",subcategory:"Bionda",price:6.2,vigneto:"",annata:"",grado_alcolico:5.5},{id:34,name:"Imperial Stout",category:"Birre",subcategory:"Scura",price:8,vigneto:"",annata:"",grado_alcolico:8},{id:35,name:"Pomerol",category:"Vini",subcategory:"Rosso",price:20,vigneto:"Vigneto Bordeaux",annata:2019,grado_alcolico:13}],searchQuery:w(""),filteredProductsState:w([])}),getters:{getCategories:e=>[...new Set(e.products.map(t=>t.category))],getSubcategories:e=>t=>[...new Set(e.products.filter(a=>a.category===t&&a.subcategory).map(a=>a.subcategory))],getFirstSubcategory:e=>t=>{const a=e.getSubcategories(t);return a.length>0?a[0]:null},filteredProducts:e=>{if(!e.searchQuery)return e.products;const t=e.searchQuery.toLowerCase();return e.products.filter(a=>a.name.toLowerCase().includes(t))}},actions:{setSearchQuery(e){this.searchQuery=e,this.updateFilteredProducts()},updateFilteredProducts(){const e=this.searchQuery.toLowerCase();e?this.filteredProductsState=this.products.filter(t=>t.name.toLowerCase().includes(e)):this.filteredProductsState=this.products},addToCart(e){const t=this.products.find(a=>a.id===e);t?I().addProductToCart(t):console.error(`Product with ID ${e} not found.`)}}}),q=f({setup(){let e=null;const t=B();let a="";const s=c=>{t.setSearchQuery(c)},u=()=>{if(!("webkitSpeechRecognition"in window)){alert("La funzionalità di ricerca vocale non è supportata dal tuo browser.");return}const c=new window.webkitSpeechRecognition;c.lang="en-US",c.interimResults=!0,c.start(),c.onresult=o=>{a=o.results[0][0].transcript,e&&(e.value=a),s(a)},c.onerror=o=>{console.error("Errore nel riconoscimento vocale:",o.error)},c.onend=()=>{console.log("Riconoscimento vocale terminato")}};return L(()=>{e=document.getElementById("search-bar")}),{searchQuery:t.searchQuery,updateSearchQuery:s,onVoiceSearch:u}}}),M="data:image/svg+xml,%3csvg%20width='25'%20height='26'%20viewBox='0%200%2025%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.168%2019.245C21.2279%2017.2026%2022.5103%2014.3759%2022.5103%2011.2524C22.5062%205.04839%2017.4605%200%2011.2551%200C5.04839%200%200%205.04839%200%2011.2551C0%2017.4619%205.04839%2022.5065%2011.2513%2022.5065C13.5879%2022.5065%2015.7572%2021.791%2017.5579%2020.568L22.8036%2026L24.2966%2024.5583L19.168%2019.245ZM2.07309%2011.2551C2.07309%206.19326%206.19156%202.0734%2011.2548%202.0734C16.3167%202.0734%2020.4327%206.19326%2020.4327%2011.2551C20.4327%2016.317%2016.3129%2020.433%2011.2548%2020.433C6.19537%2020.433%202.07309%2016.3146%202.07309%2011.2551Z'%20fill='%23757373'/%3e%3c/svg%3e",D="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2025.4.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Livello_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2018%2027'%20style='enable-background:new%200%200%2018%2027;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st1{fill:%23757373;}%20%3c/style%3e%3cg%3e%3cpath%20class='st1'%20d='M8.8,18.2c-1.4,0-2.7-0.5-3.6-1.5c-1-1-1.5-2.3-1.5-3.7V5.2c0-1.4,0.5-2.7,1.5-3.7l0,0c1-1,2.3-1.5,3.6-1.5%20c1.4,0,2.7,0.5,3.6,1.5c1,1,1.5,2.3,1.5,3.7v7.7c0,1.4-0.5,2.7-1.5,3.7C11.4,17.6,10.2,18.2,8.8,18.2z%20M8.8,1.7%20c-0.9,0-1.8,0.4-2.4,1c-0.6,0.7-1,1.5-1,2.5v7.7c0,0.9,0.4,1.8,1,2.5c1.3,1.3,3.5,1.3,4.8,0l0,0c0.6-0.7,1-1.5,1-2.5V5.2%20c0-0.9-0.4-1.8-1-2.5S9.7,1.7,8.8,1.7z'/%3e%3c/g%3e%3cg%3e%3cpath%20class='st1'%20d='M8.4,21.6v-0.5l-0.5,0c-4.2-0.4-7.5-4-7.5-8.4h0l0,0c0-0.1,0-0.1,0-0.1c0,0,0-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1%20c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0l0.2-0.4L1,12.3c0,0,0.1,0,0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0,0.1,0,0.1h0v0%20c0,4.3,3.4,7.7,7.6,7.7c4.2,0,7.6-3.5,7.6-7.7h0l0,0c0-0.1,0-0.1,0-0.1c0,0,0-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1,0,0.1,0%20s0.1,0,0.1,0c0,0,0.1,0,0.1,0.1l0.4-0.3L17,12.4c0,0,0.1,0.1,0.1,0.1c0,0,0,0.1,0,0.1h0v0c0,4.4-3.3,8-7.5,8.4l-0.5,0v0.5v3.6v0.5%20h0.5h3.4c0.1,0,0.2,0,0.2,0.1c0.1,0.1,0.1,0.2,0.1,0.3c0,0.1,0,0.2-0.1,0.3c-0.1,0.1-0.1,0.1-0.2,0.1H4.5c-0.1,0-0.2,0-0.2-0.1%20c-0.1-0.1-0.1-0.2-0.1-0.3c0-0.1,0-0.2,0.1-0.3c0.1-0.1,0.1-0.1,0.2-0.1h3.4h0.5v-0.5V21.6z'/%3e%3cpath%20class='st1'%20d='M4.5,27c-0.2,0-0.4-0.1-0.6-0.3c-0.2-0.2-0.2-0.4-0.2-0.6s0.1-0.4,0.2-0.6c0.2-0.2,0.4-0.3,0.6-0.3l3.4,0%20l0-3.6C3.4,21.2,0,17.3,0,12.7c0-0.1,0-0.2,0.1-0.3c0-0.1,0.1-0.2,0.2-0.3c0.1-0.1,0.2-0.2,0.3-0.2c0,0,0.1,0,0.1,0l0-0.1l0.2,0.1%20c0.1,0,0.2,0,0.3,0.1l0,0.1l0-0.1c0.1,0,0.2,0.1,0.3,0.2l0.2,0.1l0,0.1c0,0,0,0.1,0.1,0.1c0,0.1,0.1,0.2,0.1,0.3%20c0,4,3.2,7.2,7.1,7.2c3.9,0,7.1-3.2,7.1-7.2c0-0.1,0-0.2,0.1-0.3c0-0.1,0.1-0.2,0.2-0.3c0.1-0.1,0.2-0.1,0.3-0.2%20c0.2-0.1,0.3-0.1,0.5-0.1l0.1-0.1l0.3,0.3c0,0,0,0,0,0c0,0,0,0,0,0l0.3,0.3l-0.1,0.1c0,0.1,0,0.1,0,0.2c0,4.6-3.4,8.5-7.9,8.9v3.6%20h3.4c0.2,0,0.4,0.1,0.6,0.3c0.2,0.2,0.2,0.4,0.2,0.6s-0.1,0.4-0.2,0.6c-0.2,0.2-0.4,0.3-0.6,0.3H4.5z'/%3e%3c/g%3e%3c/svg%3e",H={class:"search-bar-container"},G=["value"];function E(e,t,a,s,u,c){return g(),d("div",H,[t[3]||(t[3]=r("img",{src:M,alt:"icona lente che indica la ricerca testuale",class:"search-text-icon"},null,-1)),r("input",{value:e.searchQuery,onInput:t[0]||(t[0]=o=>e.updateSearchQuery(o.target.value)),"aria-label":"barra di ricerca dei prodotti",type:"text",placeholder:"Cerca",class:"search-bar",id:"search-bar"},null,40,G),r("button",{class:"voice-search",onClick:t[1]||(t[1]=(...o)=>e.onVoiceSearch&&e.onVoiceSearch(...o))},t[2]||(t[2]=[r("img",{src:D,alt:"icona microfono che indica la ricerca vocale"},null,-1)]))])}const O=v(q,[["render",E],["__scopeId","data-v-077e19b2"]]),V=Q("category",{state:()=>({selectedCategory:null,selectedSubcategory:null}),actions:{setCategory(e){this.selectedCategory=e,this.selectedSubcategory=null},setSubcategory(e){this.selectedSubcategory=e},resetCategory(){this.selectedCategory=null,this.selectedSubcategory=null}}}),Z=f({name:"PillowCategoryComponent",setup(){const e=V(),{getCategories:t,getSubcategories:a,getFirstSubcategory:s}=B(),u=h(()=>e.selectedCategory?a(e.selectedCategory):t);return{categoryStore:e,displayedCategories:u,selectCategoryOrSubcategory:n=>{if(e.selectedCategory)e.setSubcategory(n);else{e.setCategory(n);const p=s(n);p&&e.setSubcategory(p)}},isSelected:n=>e.selectedCategory===n||e.selectedSubcategory===n}}}),U={class:"categories-container"},W=["onClick"];function j(e,t,a,s,u,c){return g(),d("div",null,[r("div",U,[r("button",{class:$(["btn",{"btn-selected":!e.categoryStore.selectedCategory}]),onClick:t[0]||(t[0]=(...o)=>e.categoryStore.resetCategory&&e.categoryStore.resetCategory(...o))},_(e.categoryStore.selectedCategory?"← Indietro":"TUTTI"),3),(g(!0),d(k,null,x(e.displayedCategories,o=>(g(),d("button",{key:o,class:$(["btn",{"btn-selected":e.isSelected(o)}]),onClick:n=>e.selectCategoryOrSubcategory(o)},_(o),11,W))),128))])])}const J=v(Z,[["render",j],["__scopeId","data-v-446ed52d"]]),K={name:"HeaderSearch",components:{Logo:F,SearcBar:O,PillowCategories:J}},X={class:"logo-container"};function Y(e,t,a,s,u,c){const o=S("Logo"),n=S("SearcBar"),p=S("PillowCategories");return g(),d("header",null,[r("div",X,[m(o)]),m(n),m(p)])}const R=v(K,[["render",Y],["__scopeId","data-v-fb485f73"]]),ee={name:"BannerCategory",setup(){return{categoryStore:V()}}},te={class:"intestate-category"};function oe(e,t,a,s,u,c){return g(),d("h1",te,_(s.categoryStore.selectedSubcategory?s.categoryStore.selectedSubcategory:"Tutti"),1)}const A=v(ee,[["render",oe],["__scopeId","data-v-cccf886a"]]),ae=f({name:"ListProduct",setup(){const e=V(),t=B(),a=I(),s=h(()=>t.filteredProductsState),u=h(()=>t.searchQuery),c=h(()=>{let i=s.value.length>0?s.value:t.products;return(e.selectedSubcategory||e.selectedCategory)&&(i=i.filter(l=>e.selectedSubcategory?l.subcategory===e.selectedSubcategory:l.category===e.selectedCategory)),u.value&&(i=i.filter(l=>l.name.toLowerCase().includes(u.value.toLowerCase()))),i}),o=i=>{a.addProductToCart(i)},n=i=>{const l=i.id,y=a.cart.find(C=>C.id===l);y&&y.quantity>1?a.updateQuantity(l,y.quantity-1):a.removeProductFromCart(l)},p=(i,l)=>{const y=parseInt(l,10);!isNaN(y)&&y>0&&(a.updateQuantity(i.id,y),cartTotal=a.getCartTotal)},T=i=>{const l=a.cart.find(y=>y.id===i.id);(!l||l.quantity<=0)&&(a.updateQuantity(i.id,1),cartTotal=a.getCartTotal)},z=i=>{const l=i.id,y=a.cart.find(C=>C.id===l);return y?y.quantity:0};return L(()=>{a.loadCartFromStorage()}),{categoryStore:e,filteredProducts:c,increaseQuantity:o,decreaseQuantity:n,updateQuantity:p,validateQuantity:T,getQuantity:z}}}),re={class:"list-product-container"},ne={class:"row-item"},ce={key:0},ie={class:"row-item"},se={key:0},le={key:1},ge={key:2},de={class:"row-item"},ue={class:"row-item"},ye={class:"counter"},pe=["onClick"],_e=["value","onInput","onBlur"],me=["onClick"];function ve(e,t,a,s,u,c){return g(),d("div",null,[r("div",re,[r("ul",null,[(g(!0),d(k,null,x(e.filteredProducts,o=>(g(),d("li",{key:o.id,class:"product-item"},[r("div",ne,[P(_(o.name)+" ",1),o.vigneto?(g(),d("span",ce," - "+_(o.vigneto),1)):b("",!0)]),r("div",ie,[o.annata?(g(),d("span",se,_(o.annata),1)):b("",!0),o.annata&&o.grado_alcolico?(g(),d("span",le," - ")):b("",!0),o.grado_alcolico?(g(),d("span",ge,_(o.grado_alcolico)+"% vol. ",1)):b("",!0)]),r("div",de,[r("span",ue,[t[0]||(t[0]=r("img",{class:"icon-price",src:N,alt:"icona che indica il prezzo"},null,-1)),P(" "+_(o.price),1)]),r("span",ye,[r("span",{onClick:n=>e.decreaseQuantity(o)},"-",8,pe),r("span",null,[r("input",{type:"number",value:e.getQuantity(o),onInput:n=>e.updateQuantity(o,n.target.value),onBlur:n=>e.validateQuantity(o),class:"input-quantity"},null,40,_e)]),r("span",{onClick:n=>e.increaseQuantity(o)},"+",8,me)])])]))),128))])])])}const be=v(ae,[["render",ve],["__scopeId","data-v-e25a2997"]]),he={name:"home",components:{HeaderSearch:R,ListProduct:be,BannerCategory:A}};function Se(e,t,a,s,u,c){const o=R,n=A,p=S("ListProduct");return g(),d("div",null,[m(o),m(n),m(p)])}const we=v(he,[["render",Se]]);export{we as default};
